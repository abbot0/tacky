:root{
  --color-bg:#020712;
  --color-bg-accent:#090f23;
  --color-surface:#121d34;
  --color-surface-alt:#17253d;
  --color-surface-elevated:#1d2c48;
  --color-border:rgba(128,156,206,.22);
  --color-border-strong:rgba(178,198,234,.38);
  --color-text:#f7faff;
  --color-text-muted:rgba(194,208,236,.78);
  --color-primary:#9f7aea;
  --color-primary-soft:#6366f1;
  --color-accent:#38bdf8;
  --color-success:#34d399;
  --color-danger:#fb7185;
  --color-warning:#fcd34d;
  --page-gradient:
    radial-gradient(circle at 18% 18%,rgba(59,204,255,.18),transparent 58%),
    radial-gradient(circle at 82% 8%,rgba(159,122,234,.24),transparent 52%),
    linear-gradient(165deg,#030814 0%,#071227 52%,#0b1b3a 100%);
  --shell-surface:linear-gradient(152deg,rgba(6,14,30,.94),rgba(3,9,22,.94));
  --backdrop-glow:
    radial-gradient(circle at 14% 20%,rgba(58,199,255,.22),transparent 58%),
    radial-gradient(circle at 84% 26%,rgba(147,112,255,.2),transparent 56%);
  --nav-surface:linear-gradient(182deg,rgba(13,24,44,.92) 0%,rgba(10,20,38,.88) 100%);
  --nav-link-surface:linear-gradient(150deg,rgba(21,33,58,.82),rgba(14,24,44,.72));
  --nav-cta-surface:linear-gradient(145deg,rgba(21,34,58,.82),rgba(18,30,52,.74));
  --main-surface:linear-gradient(185deg,rgba(4,12,26,.95),rgba(2,8,18,.95));
  --header-surface:rgba(9,16,32,.88);
  --panel-strong:linear-gradient(155deg,rgba(14,22,42,.95),rgba(11,19,38,.88));
  --panel-surface:linear-gradient(150deg,rgba(12,20,38,.94),rgba(9,16,32,.9));
  --panel-muted:linear-gradient(155deg,rgba(12,20,36,.82),rgba(9,16,30,.78));
  --panel-border:rgba(148,163,184,.18);
  --panel-border-strong:rgba(255,255,255,.08);
  --overlay-surface:linear-gradient(145deg,rgba(18,30,56,.96),rgba(8,16,34,.92));
  --chip-surface:rgba(19,32,56,.68);
  --chip-surface-strong:linear-gradient(145deg,rgba(21,34,58,.82),rgba(18,30,52,.74));
  --nav-border:rgba(255,255,255,.06);
  --scrim:rgba(2,7,18,.6);
  --nav-width:304px;
  --nav-collapsed-width:96px;
  --header-height:82px;
  --radius-lg:26px;
  --radius-md:18px;
  --radius-sm:12px;
  --shadow-sm:0 18px 48px rgba(5,16,45,.35);
  --shadow-md:0 32px 72px rgba(8,20,55,.45);
  --shadow-lg:0 52px 140px rgba(6,18,48,.6);
}
body[data-theme='graphite']{
  --color-bg:#0d1117;
  --color-bg-accent:#121826;
  --color-surface:#151a24;
  --color-surface-alt:#1c2330;
  --color-surface-elevated:#222c3b;
  --color-border:rgba(226,232,240,.16);
  --color-border-strong:rgba(226,232,240,.28);
  --color-text:#f8fafc;
  --color-text-muted:rgba(226,232,240,.72);
  --color-primary:#8b5cf6;
  --color-primary-soft:#6366f1;
  --color-accent:#22d3ee;
  --page-gradient:linear-gradient(170deg,#0b0f1a 0%,#0c1423 52%,#0b1322 100%);
  --shell-surface:linear-gradient(150deg,#0c101a,#0f1726);
  --backdrop-glow:
    radial-gradient(circle at 16% 18%,rgba(56,189,248,.18),transparent 56%),
    radial-gradient(circle at 84% 10%,rgba(139,92,246,.2),transparent 50%);
  --nav-surface:linear-gradient(182deg,#0f1626 0%,#0c1220 100%);
  --nav-link-surface:linear-gradient(150deg,#161d2b,#111827);
  --nav-cta-surface:linear-gradient(145deg,#182132,#111927);
  --main-surface:linear-gradient(185deg,#0b101b,#0a0f19);
  --header-surface:rgba(12,16,26,.92);
  --panel-strong:linear-gradient(150deg,#161e2d,#0f1724);
  --panel-surface:linear-gradient(150deg,#1a2231,#111a27);
  --panel-muted:linear-gradient(155deg,#192130,#0f1826);
  --panel-border:rgba(226,232,240,.16);
  --panel-border-strong:rgba(226,232,240,.22);
  --overlay-surface:linear-gradient(145deg,#121a2a,#0f1724);
  --chip-surface:rgba(24,32,46,.72);
  --chip-surface-strong:linear-gradient(145deg,#1b2332,#121a27);
  --nav-border:rgba(226,232,240,.12);
  --scrim:rgba(5,9,16,.64);
  --shadow-sm:0 18px 48px rgba(2,8,20,.45);
  --shadow-md:0 32px 72px rgba(2,8,20,.55);
  --shadow-lg:0 52px 140px rgba(2,8,20,.68);
}
body[data-theme='noir']{
  --color-bg:#020203;
  --color-bg-accent:#050506;
  --color-surface:#0a0a0d;
  --color-surface-alt:#0f1014;
  --color-surface-elevated:#14151b;
  --color-border:rgba(255,255,255,.08);
  --color-border-strong:rgba(255,255,255,.14);
  --color-text:#f6f7fb;
  --color-text-muted:rgba(232,235,242,.66);
  --color-primary:#9f7aea;
  --color-primary-soft:#7c3aed;
  --color-accent:#38bdf8;
  --color-success:#22c55e;
  --color-danger:#fb7185;
  --color-warning:#fbbf24;
  --page-gradient:linear-gradient(170deg,#050506 0%,#090a0c 48%,#010101 100%);
  --shell-surface:linear-gradient(150deg,#050506,#0b0c0f);
  --backdrop-glow:
    radial-gradient(circle at 16% 18%,rgba(56,189,248,.22),transparent 56%),
    radial-gradient(circle at 84% 10%,rgba(159,122,234,.28),transparent 52%);
  --nav-surface:linear-gradient(182deg,#0c0c10 0%,#050507 100%);
  --nav-link-surface:linear-gradient(150deg,#111216,#06070a);
  --nav-cta-surface:linear-gradient(145deg,#0f1014,#08090c);
  --main-surface:linear-gradient(185deg,#050506,#0c0d11);
  --header-surface:rgba(5,6,8,.92);
  --panel-strong:linear-gradient(155deg,#0f1016,#08090f);
  --panel-surface:linear-gradient(150deg,#101117,#0a0b10);
  --panel-muted:linear-gradient(155deg,#0e0f14,#08090e);
  --panel-border:rgba(255,255,255,.08);
  --panel-border-strong:rgba(255,255,255,.16);
  --overlay-surface:linear-gradient(145deg,#0a0a10,#050506);
  --chip-surface:rgba(20,20,26,.72);
  --chip-surface-strong:linear-gradient(145deg,#13131a,#0a0a0f);
  --nav-border:rgba(255,255,255,.08);
  --scrim:rgba(0,0,0,.72);
  --shadow-sm:0 18px 48px rgba(0,0,0,.5);
  --shadow-md:0 32px 72px rgba(0,0,0,.55);
  --shadow-lg:0 52px 140px rgba(0,0,0,.62);
}
body[data-theme='light']{
  --color-bg:#f5f7fb;
  --color-bg-accent:#eceff7;
  --color-surface:#ffffff;
  --color-surface-alt:#f2f4f9;
  --color-surface-elevated:#e8ecf6;
  --color-border:rgba(35,46,80,.12);
  --color-border-strong:rgba(35,46,80,.2);
  --color-text:#0f172a;
  --color-text-muted:rgba(15,23,42,.7);
  --color-primary:#6366f1;
  --color-primary-soft:#7c3aed;
  --color-accent:#0ea5e9;
  --color-success:#10b981;
  --color-danger:#ef4444;
  --color-warning:#f59e0b;
  --page-gradient:linear-gradient(165deg,#f7f9ff 0%,#eef2ff 52%,#e6ecff 100%);
  --shell-surface:linear-gradient(145deg,#f9fbff,#edf1f8);
  --backdrop-glow:
    radial-gradient(circle at 20% 16%,rgba(79,70,229,.12),transparent 52%),
    radial-gradient(circle at 78% 12%,rgba(14,165,233,.16),transparent 54%);
  --nav-surface:linear-gradient(180deg,#ffffff,#f3f6fc);
  --nav-link-surface:linear-gradient(150deg,#f5f7fb,#edf0f8);
  --nav-cta-surface:linear-gradient(145deg,#eef2ff,#e2e8f8);
  --main-surface:linear-gradient(185deg,#f4f6fb,#edf1f8);
  --header-surface:rgba(255,255,255,.9);
  --panel-strong:linear-gradient(145deg,#ffffff,#f1f5fb);
  --panel-surface:linear-gradient(145deg,#ffffff,#f5f7fb);
  --panel-muted:linear-gradient(145deg,#f7f9fd,#eef2f9);
  --panel-border:rgba(35,46,80,.12);
  --panel-border-strong:rgba(35,46,80,.22);
  --overlay-surface:linear-gradient(145deg,#ffffff,#f2f4fb);
  --chip-surface:#f5f6fb;
  --chip-surface-strong:linear-gradient(145deg,#f3f5fb,#e7ebf5);
  --nav-border:rgba(35,46,80,.08);
  --scrim:rgba(15,23,42,.16);
  --shadow-sm:0 12px 32px rgba(15,23,42,.08);
  --shadow-md:0 22px 48px rgba(15,23,42,.12);
  --shadow-lg:0 38px 84px rgba(15,23,42,.16);
}
*,
*::before,
*::after{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--page-gradient);
  color:var(--color-text);
  font-family:'Inter','Segoe UI',system-ui,-apple-system,'Roboto',sans-serif;
  -webkit-font-smoothing:antialiased;
}
body.quick-actions-open{
  overflow:hidden;
}
body.is-dragging,
body.is-dragging *{
  cursor:grabbing!important;
  user-select:none!important;
}
#root{
  min-height:100vh;
}
a{
  color:var(--color-primary);
  text-decoration:none;
}
a:hover{text-decoration:underline}
svg.icon{display:block;width:20px;height:20px;flex-shrink:0}
.icon-sm{width:16px;height:16px}
.icon-xs{width:14px;height:14px}
.icon-lg{width:24px;height:24px}
button{
  font-family:inherit;
  font-size:14px;
  border:0;
  cursor:pointer;
  background:none;
  color:inherit;
}
button:disabled{
  cursor:not-allowed;
  opacity:.6;
}
.button{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:10px 20px;
  border-radius:var(--radius-sm);
  border:1px solid var(--panel-border);
  background:var(--panel-muted);
  color:var(--color-text);
  font-weight:600;
  letter-spacing:.01em;
  backdrop-filter:blur(18px);
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
.button:hover:not(:disabled){
  transform:translateY(-1px);
  border-color:var(--panel-border-strong);
  box-shadow:var(--shadow-sm);
  background:var(--panel-surface);
}
.button:focus-visible{
  outline:none;
  box-shadow:0 0 0 3px rgba(79,70,229,.25);
}
.accent-button,
.button.accent{
  background:linear-gradient(135deg,var(--color-primary),var(--color-primary-soft));
  color:#fff;
  border-color:transparent;
  box-shadow:var(--shadow-sm);
}
.accent-button:hover,
.button.accent:hover{
  box-shadow:var(--shadow-md);
}
.danger-button,
.button.danger{
  background:linear-gradient(135deg,#f87171,var(--color-danger));
  color:#fff;
  border-color:transparent;
}
.ghost-button,
.button.ghost{
  background:var(--panel-muted);
  border-color:var(--panel-border);
}
.icon-button{
  width:40px;
  height:40px;
  border-radius:14px;
  border:1px solid var(--color-border);
  background:var(--color-surface);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.icon-button:hover{
  transform:translateY(-1px);
  border-color:var(--color-border-strong);
  box-shadow:var(--shadow-sm);
}
.header-pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:10px 18px;
  border-radius:999px;
  background:var(--chip-surface-strong);
  border:1px solid var(--panel-border);
  backdrop-filter:blur(18px);
  font-weight:600;
}
.header-pill.accent{
  background:linear-gradient(135deg,var(--color-primary),var(--color-primary-soft));
  color:#fff;
  border-color:transparent;
  box-shadow:var(--shadow-sm);
}
.header-pill.ghost{
  background:var(--color-surface-alt);
}
.toolbar-btn{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 16px;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface);
  font-size:13px;
  font-weight:500;
}
.toolbar-btn.danger{
  color:var(--color-danger);
  border-color:rgba(239,68,68,.2);
  background:rgba(239,68,68,.08);
}
.link-label{
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.app-frame{
  position:relative;
  display:grid;
  grid-template-columns:var(--nav-width) minmax(0,1fr);
  min-height:100vh;
  width:100%;
  max-width:100vw;
  background:var(--shell-surface);
}
.app-frame.nav-collapsed{
  grid-template-columns:var(--nav-collapsed-width) minmax(0,1fr);
}
.app-frame-backdrop{
  position:absolute;
  inset:0;
  background:var(--backdrop-glow);
  filter:blur(120px);
  opacity:.55;
  pointer-events:none;
  z-index:0;
}
.nav-panel{
  position:relative;
  z-index:2;
  padding:36px 30px 32px;
  display:flex;
  flex-direction:column;
  gap:32px;
  background:var(--nav-surface);
  border-right:1px solid var(--nav-border);
  box-shadow:inset -1px 0 0 rgba(6,14,28,.55);
  backdrop-filter:blur(22px);
}
.nav-panel-inner{
  display:flex;
  flex-direction:column;
  gap:28px;
  height:100%;
  overflow-y:auto;
  padding-right:4px;
}
.nav-brand{
  display:flex;
  align-items:center;
  gap:16px;
}
.nav-logo{
  width:48px;
  height:48px;
  border-radius:18px;
  display:grid;
  place-items:center;
  color:var(--color-primary);
  background:linear-gradient(135deg,rgba(159,122,234,.35),rgba(56,189,248,.24));
  box-shadow:0 10px 24px rgba(159,122,234,.28);
}
.nav-brand-copy{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.nav-brand-title{
  font-size:19px;
  font-weight:700;
  letter-spacing:.02em;
}
.nav-brand-subtitle{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.2em;
  color:var(--color-text-muted);
}
.app-frame.nav-collapsed .nav-brand{
  flex-direction:column;
  gap:12px;
}
.app-frame.nav-collapsed .nav-logo{
  width:54px;
  height:54px;
  border-radius:20px;
  box-shadow:0 18px 36px rgba(159,122,234,.26);
}
.nav-section{
  display:flex;
  flex-direction:column;
  gap:14px;
}
.nav-section-title{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.22em;
  color:var(--color-text-muted);
}
.nav-links{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.nav-link{
  position:relative;
  display:flex;
  align-items:center;
  gap:16px;
  padding:12px 16px;
  border-radius:var(--radius-md);
  border:1px solid var(--panel-border-strong);
  background:var(--nav-link-surface);
  overflow:hidden;
  color:var(--color-text-muted);
  font-weight:600;
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease, color .2s ease;
}
.nav-link::before{
  content:'';
  position:absolute;
  inset:-30%;
  border-radius:999px;
  background:radial-gradient(circle at 20% 20%,rgba(159,122,234,.26),transparent 55%),radial-gradient(circle at 80% 20%,rgba(56,189,248,.22),transparent 55%);
  opacity:0;
  transform:scale(.85);
  transition:opacity .3s ease, transform .3s ease;
  z-index:0;
}
.nav-link > *{
  position:relative;
  z-index:1;
}
.nav-link:hover{
  transform:translateY(-1px);
  border-color:var(--panel-border-strong);
  color:var(--color-text);
  box-shadow:var(--shadow-sm);
}
.nav-link:hover::before{
  opacity:.45;
  transform:scale(1);
}
.nav-link.is-active{
  color:var(--color-text);
  border-color:rgba(159,122,234,.38);
  box-shadow:var(--shadow-md);
}
.nav-link.is-active::before{
  opacity:.85;
  transform:scale(1);
}
.nav-link-icon{
  width:36px;
  height:36px;
  display:grid;
  place-items:center;
  color:var(--color-primary);
  border-radius:14px;
  background:var(--chip-surface);
  box-shadow:0 10px 30px rgba(2,8,20,.35);
  transition:transform .2s ease, background .2s ease, color .2s ease, box-shadow .2s ease;
}
.nav-link:hover .nav-link-icon{
  transform:translateY(-1px);
}
.nav-link.is-active .nav-link-icon{
  background:rgba(159,122,234,.35);
  color:#fff;
  box-shadow:0 16px 38px rgba(159,122,234,.42);
}
.nav-link-copy{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.nav-link-label{
  font-size:15px;
}
.nav-link-hint{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.18em;
  color:var(--color-text-muted);
}
.nav-link-indicator{
  margin-left:auto;
  width:10px;
  height:10px;
  border-radius:50%;
  background:var(--panel-border-strong);
  transition:transform .2s ease, background .2s ease;
}
.nav-link.is-active .nav-link-indicator{
  background:var(--color-primary);
  transform:scale(1.3);
}
.nav-create-actions{
  display:grid;
  grid-template-columns:repeat(3,minmax(0,1fr));
  gap:10px;
}
.nav-create-actions button{
  padding:10px 0;
  border-radius:var(--radius-sm);
  border:1px solid var(--nav-border);
  background:var(--chip-surface);
  color:var(--color-text);
  font-weight:600;
  letter-spacing:.08em;
  text-transform:uppercase;
  transition:transform .2s ease, border-color .2s ease, background .2s ease;
}
.nav-create-actions button:hover{
  transform:translateY(-1px);
  border-color:var(--panel-border-strong);
  background:var(--chip-surface-strong);
}
.nav-footer{
  margin-top:auto;
  display:flex;
  flex-direction:column;
  gap:18px;
  padding-top:18px;
  border-top:1px solid var(--nav-border);
}
.nav-footer-status,
.nav-footer-meta{
  display:flex;
  justify-content:space-between;
  font-size:13px;
  color:var(--color-text-muted);
}
.nav-footer-value{
  font-weight:600;
  color:var(--color-text);
}
.nav-footer-btn{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:10px 16px;
  border-radius:var(--radius-sm);
  border:1px solid var(--panel-border);
  background:var(--nav-cta-surface);
  color:var(--color-text);
  transition:transform .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.nav-footer-btn:hover{
  transform:translateY(-1px);
  border-color:var(--panel-border-strong);
  box-shadow:var(--shadow-sm);
}
.nav-footer-icon{
  width:18px;
  height:18px;
}

.quick-actions-overlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:160;
}
.quick-actions-backdrop{
  position:absolute;
  inset:0;
  background:rgba(3,8,20,.72);
  backdrop-filter:blur(18px);
}
.quick-actions-panel{
  position:relative;
  z-index:1;
  width:min(680px,calc(100% - 64px));
  max-height:calc(100% - 64px);
  padding:32px 34px 30px;
  border-radius: var(--radius-lg);
  background:var(--overlay-surface);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-lg);
  display:flex;
  flex-direction:column;
  gap:28px;
  overflow:auto;
}
.quick-actions-header{
  display:flex;
  justify-content:space-between;
  gap:18px;
  align-items:flex-start;
}
.quick-actions-header h2{
  margin:0;
  font-size:24px;
  font-weight:700;
}
.quick-actions-header p{
  margin:8px 0 0;
  font-size:14px;
  color:var(--color-text-muted);
}
.quick-actions-close{
  width:38px;
  height:38px;
  border-radius:14px;
  border:1px solid var(--panel-border);
  background:var(--chip-surface);
  color:var(--color-text);
  font-size:22px;
  line-height:1;
}
.quick-actions-close:hover{
  border-color:var(--panel-border-strong);
}
.quick-actions-body{
  display:flex;
  flex-direction:column;
  gap:26px;
}
.quick-actions-group{
  display:flex;
  flex-direction:column;
  gap:16px;
}
.quick-actions-group h3{
  margin:0;
  font-size:12px;
  letter-spacing:.2em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.quick-actions-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:14px;
}
.quick-actions-grid button{
  padding:18px;
  border-radius:var(--radius-md);
  border:1px solid var(--panel-border);
  background:var(--panel-surface);
  text-align:left;
  color:var(--color-text);
  display:flex;
  flex-direction:column;
  gap:8px;
  transition:transform .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.quick-actions-grid button:hover{
  transform:translateY(-2px);
  border-color:rgba(159,122,234,.36);
  box-shadow:var(--shadow-sm);
}
.quick-actions-links{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.quick-actions-links button{
  width:100%;
  padding:14px 16px;
  border-radius:var(--radius-md);
  border:1px solid var(--panel-border);
  background:var(--panel-muted);
  color:var(--color-text);
  display:flex;
  align-items:center;
  justify-content:space-between;
  transition:transform .2s ease, border-color .2s ease;
}
.quick-actions-links button:hover{
  transform:translateX(3px);
  border-color:var(--panel-border-strong);
}
.quick-actions-footer{
  padding-top:16px;
  border-top:1px solid var(--panel-border);
  font-size:12px;
  color:var(--color-text-muted);
  text-align:center;
}
.qa-title{
  font-weight:600;
  font-size:14px;
}
.qa-subtitle{
  font-size:12px;
  color:var(--color-text-muted);
}
.qa-hint{
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:rgba(208,220,244,.52);
}
.quick-actions-trigger{
  background:var(--chip-surface);
  border-color:var(--panel-border);
}
.quick-actions-trigger:hover{
  border-color:var(--panel-border-strong);
}

.nav-trigger{
  width:46px;
  height:46px;
  border-radius:18px;
  border:1px solid var(--panel-border);
  background:var(--chip-surface-strong);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  color:var(--color-text);
  transition:transform .2s ease, border-color .2s ease;
}
.nav-trigger:hover{
  transform:translateY(-1px);
  border-color:var(--panel-border-strong);
}
.main-panel{
  position:relative;
  z-index:1;
  display:flex;
  flex-direction:column;
  min-height:100vh;
  background:var(--main-surface);
}
.main-panel::before{
  content:'';
  position:fixed;
  inset:0;
  background:var(--scrim);
  opacity:0;
  pointer-events:none;
  transition:opacity .3s ease;
  z-index:4;
}
.global-header{
  position:sticky;
  top:0;
  z-index:5;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:28px;
  padding:24px 36px;
  min-height:var(--header-height);
  background:var(--header-surface);
  backdrop-filter:blur(24px);
  border-bottom:1px solid var(--panel-border);
}
.header-left{
  display:flex;
  align-items:center;
  gap:18px;
}
.header-titles{
  display:flex;
  flex-direction:column;
  gap:6px;
}
.header-crumb{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.22em;
  color:var(--color-text-muted);
}
.header-title{
  margin:0;
  font-size:26px;
  font-weight:700;
  letter-spacing:.02em;
}
.header-right{
  display:flex;
  align-items:center;
  gap:20px;
}
.header-counters{
  display:flex;
  align-items:center;
  gap:18px;
}
.header-counter{
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  min-width:76px;
  padding:12px 14px;
  border-radius:var(--radius-sm);
  background:var(--chip-surface);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-sm);
}
.header-counter-value{
  font-size:20px;
  font-weight:700;
  color:#fff;
}
.header-counter-label{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.18em;
  color:var(--color-text-muted);
}
.header-controls{
  display:flex;
  align-items:center;
  gap:12px;
}
.system-banner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:24px;
  margin:0 36px 24px;
  padding:20px 26px;
  border-radius:var(--radius-lg);
  border:1px solid var(--panel-border);
  background:var(--panel-muted);
  box-shadow:var(--shadow-sm);
}
.system-banner-available{border-color:rgba(159,122,234,.32)}
.system-banner-downloading{border-color:rgba(56,189,248,.32)}
.system-banner-downloaded{border-color:rgba(52,211,153,.32)}
.system-banner-error{border-color:rgba(251,113,133,.36)}
.system-banner-icon{
  width:52px;
  height:52px;
  border-radius:18px;
  display:grid;
  place-items:center;
  background:var(--chip-surface);
  color:var(--color-primary);
}
.system-banner-icon .banner-icon{
  width:26px;
  height:26px;
}
.system-banner-error .system-banner-icon{color:var(--color-danger)}
.system-banner-copy{
  flex:1;
}
.banner-title{
  margin:0;
  font-size:16px;
  font-weight:700;
}
.banner-subtitle{
  margin:6px 0 0;
  font-size:13px;
  color:var(--color-text-muted);
}
.system-banner-actions{
  display:flex;
  align-items:center;
  gap:12px;
}
.banner-progress{
  font-weight:700;
  color:var(--color-primary);
}
.main-scroll{
  flex:1;
  overflow-y:auto;
  padding:32px 36px 48px;
  display:flex;
  flex-direction:column;
  gap:32px;
  min-height:0;
}
.workspace-view{
  display:flex;
  flex-direction:column;
  gap:32px;
  flex:1;
  min-height:0;
}

.app-frame.nav-collapsed .nav-panel{
  padding:28px 12px;
  align-items:center;
}
.app-frame.nav-collapsed .nav-panel-inner{
  align-items:center;
  gap:32px;
  padding-right:0;
}
.app-frame.nav-collapsed .nav-brand-copy,
.app-frame.nav-collapsed .nav-link-copy,
.app-frame.nav-collapsed .nav-section-title,
.app-frame.nav-collapsed .nav-create,
.app-frame.nav-collapsed .nav-footer{
  display:none;
}
.app-frame.nav-collapsed .nav-links{
  gap:18px;
}
.app-frame.nav-collapsed .nav-link{
  justify-content:center;
  width:72px;
  height:72px;
  padding:0;
  border-radius:26px;
}
.app-frame.nav-collapsed .nav-link-icon{
  width:44px;
  height:44px;
}
.app-frame.nav-collapsed .nav-link::before{
  inset:-40%;
}
.app-frame.nav-collapsed .nav-link::after{
  content:'';
  position:absolute;
  top:14px;
  right:14px;
  width:12px;
  height:12px;
  border-radius:50%;
  background:rgba(159,122,234,.9);
  box-shadow:0 0 12px rgba(159,122,234,.7);
  opacity:0;
  transform:scale(.5);
  transition:opacity .25s ease, transform .25s ease;
}
.app-frame.nav-collapsed .nav-link.is-active::after{
  opacity:1;
  transform:scale(1);
}
.app-frame.nav-collapsed .nav-link-indicator{
  display:none;
}
.nav-compact-actions{
  display:none;
}
.nav-compact-actions button{
  width:60px;
  height:60px;
  border-radius:22px;
  border:1px solid var(--panel-border);
  background:var(--chip-surface-strong);
  color:var(--color-text);
  display:grid;
  place-items:center;
  box-shadow:var(--shadow-sm);
  transition:transform .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.nav-compact-actions button:hover{
  transform:translateY(-2px);
  border-color:var(--panel-border-strong);
  box-shadow:var(--shadow-md);
}
.nav-compact-icon{
  font-size:28px;
  line-height:1;
  color:var(--color-primary);
}
.app-frame.nav-collapsed .nav-compact-actions{
  display:flex;
  justify-content:center;
  margin-top:auto;
}

@media (max-width:1280px){
  .app-frame{
    grid-template-columns:var(--nav-width) minmax(0,1fr);
  }
}
@media (max-width:1024px){
  .app-frame,
  .app-frame.nav-collapsed,
  .app-frame.nav-open{
    grid-template-columns:minmax(0,1fr);
  }
  .nav-panel{
    position:fixed;
    left:24px;
    top:24px;
    bottom:24px;
    width:min(320px,calc(100% - 48px));
    border-radius:var(--radius-lg);
    transform:translateX(-120%);
    transition:transform .3s ease;
  }
  .app-frame.nav-open .nav-panel{
    transform:translateX(0);
  }
  .app-frame.nav-open .main-panel::before{
    opacity:1;
    pointer-events:auto;
  }
  .nav-create-actions{
    grid-template-columns:repeat(2,minmax(0,1fr));
  }
}
@media (max-width:720px){
  .global-header{
    padding:20px 24px;
    flex-wrap:wrap;
    gap:18px;
  }
  .header-right{
    width:100%;
    justify-content:space-between;
  }
  .header-counters{
    gap:12px;
  }
  .header-counter{
    align-items:flex-start;
  }
  .main-scroll{
    padding:28px 24px 40px;
  }
  .system-banner{
    margin:0 24px 20px;
  }
  .quick-actions-panel{
    width:calc(100% - 40px);
    padding:24px 24px 28px;
  }
  .quick-actions-grid{
    grid-template-columns:1fr;
  }
  .settings-hero{
    padding:22px;
  }
  .settings-section{
    padding:18px 18px 20px;
  }
  .settings-section-header{
    flex-direction:column;
    align-items:flex-start;
  }
  .theme-grid{
    grid-template-columns:1fr;
  }
}

.dashboard-shell{
  display:flex;
  flex-direction:column;
  gap:24px;
}
.dashboard-toolbar{
  display:flex;
  flex-wrap:wrap;
  align-items:flex-end;
  justify-content:space-between;
  gap:20px;
  padding:28px 32px;
  border-radius:var(--radius-lg);
  background:var(--panel-strong);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-md);
}
.dashboard-toolbar-left{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.dashboard-title{
  margin:0;
  font-size:26px;
  font-weight:700;
}
.dashboard-subtitle{
  margin:0;
  font-size:14px;
  color:var(--color-text-muted);
  max-width:520px;
}
.dashboard-controls{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:18px;
  align-items:end;
  padding:22px 24px;
  border-radius:var(--radius-lg);
  background:var(--panel-surface);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-sm);
}
.dashboard-control{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.control-label{
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.dashboard-search{
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 16px;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface-alt);
}
.dashboard-search-input{
  flex:1;
  border:0;
  background:transparent;
  font-size:14px;
  color:var(--color-text);
}
.dashboard-search-input:focus{outline:none}
.dashboard-sort select{
  width:100%;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  padding:10px 14px;
  background:var(--color-surface);
  font-size:14px;
}
.board-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:24px;
}
.board-card{
  position:relative;
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:26px;
  border-radius:var(--radius-lg);
  background:var(--panel-surface);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-sm);
  cursor:pointer;
  transition:transform .2s ease, box-shadow .2s ease;
}
.board-card:hover{
  transform:translateY(-4px);
  box-shadow:var(--shadow-md);
}
.board-card.board-card-new{
  border-style:dashed;
  border-color:rgba(99,102,241,.45);
  color:var(--color-primary);
  align-items:center;
  text-align:center;
  justify-content:center;
  background:linear-gradient(155deg,rgba(99,102,241,.18),rgba(34,211,238,.14));
}
.board-card-cover{
  position:absolute;
  inset:0;
  background:var(--board-cover, linear-gradient(135deg,rgba(99,102,241,.32),rgba(34,211,238,.18)));
  opacity:.2;
  border-radius:inherit;
}
.board-card-body{
  position:relative;
  display:flex;
  flex-direction:column;
  gap:14px;
}
.board-card-header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
}
.board-card-title{
  margin:0;
  font-size:18px;
  font-weight:700;
}
.board-card-icon{
  width:52px;
  height:52px;
  border-radius:18px;
  background:rgba(79,70,229,.18);
  display:grid;
  place-items:center;
  color:var(--color-primary);
}
.board-card-meta{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.board-card-dot{
  width:12px;
  height:12px;
  border-radius:50%;
  border:1px solid var(--panel-border-strong);
}
.board-card-caption{
  margin:0;
  font-size:13px;
  color:var(--color-text-muted);
}
.board-card-footer{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  color:var(--color-text-muted);
}
.card-actions-row{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
}
.card-action-btn{
  padding:6px 12px;
  border-radius:999px;
  border:1px solid var(--panel-border);
  background:var(--chip-surface);
  color:var(--color-text);
  font-size:12px;
  font-weight:700;
  letter-spacing:.02em;
  text-transform:uppercase;
  transition:transform .16s ease, box-shadow .16s ease, border-color .16s ease;
}
.card-action-btn:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow-sm);
  border-color:var(--panel-border-strong);
}
.card-action-btn.danger{
  color:var(--color-danger);
  border-color:rgba(251,113,133,.4);
  background:rgba(251,113,133,.08);
}
.card-rename{
  flex:1;
}
.card-rename-input{
  width:100%;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface);
  color:var(--color-text);
  padding:10px 12px;
  font-size:15px;
  font-weight:700;
}
.card-rename-input:focus{
  outline:none;
  border-color:var(--color-primary);
  box-shadow:0 0 0 3px rgba(99,102,241,.25);
}
.board-empty{
  grid-column:1/-1;
  padding:48px;
  border-radius:var(--radius-lg);
  border:1px dashed var(--panel-border);
  background:var(--panel-muted);
  text-align:center;
  color:var(--color-text-muted);
  display:flex;
  flex-direction:column;
  gap:18px;
  align-items:center;
}
.board-wrap{
  display:flex;
  flex-direction:column;
  gap:20px;
  padding:36px;
  border-radius:var(--radius-lg);
  background:var(--panel-strong);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-md);
  flex:1;
  min-height:calc(100vh - var(--header-height) - 140px);
}
.board-header{
  display:flex;
  align-items:center;
  gap:16px;
  padding-bottom:8px;
  border-bottom:1px solid var(--color-border);
}
.board-header h3{
  margin:0;
  font-size:20px;
  font-weight:700;
}
.spacer{flex:1}
.footer-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.board-scroller{
  overflow-x:auto;
  overflow-y:hidden;
  padding-bottom:8px;
  scrollbar-gutter:stable both-edges;
  overscroll-behavior:contain;
}
.lists{
  display:flex;
  gap:20px;
  align-items:flex-start;
  min-height:260px;
}
.list{
  width:360px;
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:18px;
  border-radius:var(--radius-md);
  background:var(--color-surface-alt);
  border:1px solid var(--color-border);
  box-shadow:var(--shadow-sm);
  transition:transform .18s ease, box-shadow .18s ease;
}
.list--dragging{
  transform:translateY(-2px) scale(1.01);
  box-shadow:var(--shadow-md);
}
.list-header{
  display:flex;
  justify-content:space-between;
  gap:12px;
  align-items:center;
  cursor:grab;
}
.list-header:active{
  cursor:grabbing;
}
.list-title{
  margin:0;
  font-size:16px;
  font-weight:600;
}
.row{
  display:flex;
  gap:8px;
}
.list-actions{
  display:flex;
  gap:8px;
}
.list-body{
  display:flex;
  flex-direction:column;
  gap:12px;
  position:relative;
  transition:background .2s ease, box-shadow .2s ease, padding .2s ease, margin .2s ease;
  overflow-y:auto;
  max-height:min(580px, 70vh);
  padding-right:6px;
  overscroll-behavior:contain;
  scrollbar-width:thin;
  scrollbar-gutter:stable both-edges;
}
.list-body::-webkit-scrollbar{
  width:6px;
}
.list-body::-webkit-scrollbar-thumb{
  background:rgba(129,140,248,.35);
  border-radius:999px;
}
.list-body::-webkit-scrollbar-track{
  background:transparent;
}
.list-body--drag-over{
  margin:-8px;
  padding:8px;
  border-radius:var(--radius-sm);
  background:rgba(99,102,241,.12);
  box-shadow:inset 0 0 0 1px rgba(129,140,248,.35);
}
.list-body--drag-over::after{
  content:'';
  position:absolute;
  inset:4px 2px;
  border:1px dashed rgba(129,140,248,.55);
  border-radius:inherit;
  pointer-events:none;
}
.card{
  position:relative;
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:16px;
  border-radius:var(--radius-sm);
  background:var(--color-surface);
  border:1px solid var(--color-border);
  box-shadow:var(--shadow-sm);
  transition:transform .16s ease, box-shadow .16s ease;
  cursor:grab;
}
.card:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow-md);
}
.card:active,
.card--dragging{
  cursor:grabbing;
}
.card--dragging{
  box-shadow:var(--shadow-lg);
}
.card-actions{
  position:absolute;
  top:10px;
  right:10px;
  display:flex;
  gap:6px;
  opacity:0;
  transform:translateY(-6px);
  transition:opacity .2s ease, transform .2s ease;
}
.card:hover .card-actions{
  opacity:1;
  transform:translateY(0);
}
.icon-small{
  width:32px;
  height:32px;
  border-radius:12px;
  border:1px solid var(--panel-border);
  background:var(--chip-surface);
  display:grid;
  place-items:center;
  font-size:0;
  color:var(--color-text);
  transition:transform .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.icon-small svg{
  width:16px;
  height:16px;
  display:block;
}
.icon-small:hover{
  transform:translateY(-2px);
  border-color:var(--panel-border-strong);
  box-shadow:var(--shadow-sm);
}
.icon-small.danger{
  color:var(--color-danger);
}
.icon-small.danger:hover{
  border-color:rgba(251,113,133,.4);
  box-shadow:0 12px 24px rgba(251,113,133,.25);
}
.card-labels{
  display:flex;
  gap:6px;
}
.card-labels .label{
  width:16px;
  height:6px;
  border-radius:999px;
}
.card-title{
  font-weight:600;
}
.card-desc{
  font-size:13px;
  color:var(--color-text-muted);
}
.card-due{
  font-size:12px;
  font-weight:600;
  color:var(--color-warning);
}
.empty{
  font-size:12px;
  color:var(--color-text-muted);
  margin-top:12px;
}

.notes-workspace{
  display:flex;
  flex-direction:column;
  gap:18px;
  padding:24px;
  border-radius:var(--radius-lg);
  background:var(--panel-strong);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-md);
  flex:1;
  min-height:calc(100vh - var(--header-height) - 96px);
}
.note-tabs{
  display:flex;
  gap:10px;
  overflow-x:auto;
  padding-bottom:8px;
  border-bottom:1px solid var(--color-border);
}
.tab-strip{
  display:flex;
  gap:10px;
}
.note-tab{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 18px;
  border-radius:999px;
  border:1px solid transparent;
  background:rgba(148,163,184,.08);
  font-weight:600;
  color:var(--color-text-muted);
  white-space:nowrap;
}
.note-tab.is-active{
  background:linear-gradient(135deg,rgba(99,102,241,.22),rgba(34,211,238,.16));
  border-color:rgba(99,102,241,.42);
  color:var(--color-text);
  box-shadow:var(--shadow-sm);
}
.note-tab.new-tab{
  font-size:20px;
  width:42px;
  height:42px;
  padding:0;
  display:grid;
  place-items:center;
}
.note-toolbar{
  display:flex;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:center;
  gap:14px;
  padding-bottom:8px;
}
.note-title-field{
  flex:1;
  min-width:220px;
  padding:12px 14px;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface);
  font-size:16px;
  font-weight:600;
}
.note-editor-pane{
  display:flex;
  border-radius:var(--radius-md);
  border:1px solid var(--color-border);
  overflow:hidden;
  min-height:0;
  flex:1;
  background:var(--panel-muted);
}
.note-gutter{
  width:54px;
  padding:16px 0;
  text-align:right;
  font-family:'JetBrains Mono','Fira Code','SFMono-Regular','Consolas',monospace;
  font-size:12px;
  color:var(--color-text-muted);
  background:var(--color-bg-accent);
  border-right:1px solid var(--color-border);
}
.note-gutter-line{
  padding:2px 12px;
  font-family:'JetBrains Mono','Fira Code','SFMono-Regular','Consolas',monospace;
  line-height:1.6;
}
.note-textarea{
  flex:1;
  border:0;
  padding:18px 24px;
  font-family:'JetBrains Mono','Fira Code','SFMono-Regular','Consolas',monospace;
  font-size:14px;
  line-height:1.6;
  background:transparent;
  color:var(--color-text);
  resize:none;
  min-height:0;
  height:100%;
  overflow:auto;
}
.note-textarea:focus{outline:none}
.note-status{
  display:flex;
  flex-wrap:wrap;
  gap:16px;
  font-size:12px;
  color:var(--color-text-muted);
}
.note-empty{
  padding:48px;
  border-radius:var(--radius-md);
  border:1px dashed var(--panel-border);
  text-align:center;
  color:var(--color-text-muted);
  background:var(--panel-muted);
}

.workspace-shell{
  display:flex;
  gap:18px;
  flex-wrap:nowrap;
  align-items:stretch;
  flex:1;
  min-height:0;
  width:100%;
}
.workspace-shell.sidebar-hidden .workspace-sidebar{
  width:0;
  padding:0;
  margin:0;
  opacity:0;
  pointer-events:none;
}
.workspace-shell.sidebar-hidden{
  gap:0;
}
.workspace-shell.sidebar-hidden .workspace-content{
  margin-left:0;
}
.workspace-sidebar{
  flex:0 0 210px;
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:22px;
  border-radius:var(--radius-lg);
  background:var(--panel-strong);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-sm);
}
.workspace-sidebar.is-collapsed{
  width:0;
  padding:0;
  margin:0;
  opacity:0;
  pointer-events:none;
}
.sidebar-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.sidebar-title{
  font-size:16px;
  font-weight:600;
}
.sidebar-list{
  display:flex;
  flex-direction:column;
  gap:10px;
  overflow:auto;
  max-height:420px;
  padding-right:6px;
}
.sidebar-item{
  display:flex;
  flex-direction:column;
  gap:4px;
  padding:12px 14px;
  border-radius:var(--radius-md);
  border:1px solid transparent;
  background:rgba(148,163,184,.08);
  text-align:left;
  transition:border-color .2s ease, background .2s ease, box-shadow .2s ease;
}
.sidebar-item:hover{
  border-color:rgba(148,163,184,.24);
}
.sidebar-item.is-active{
  border-color:rgba(99,102,241,.4);
  background:linear-gradient(140deg,rgba(99,102,241,.24),rgba(34,211,238,.18));
  box-shadow:var(--shadow-md);
}
.sidebar-item-meta{
  font-size:12px;
  color:var(--color-text-muted);
}
.sidebar-empty{
  padding:24px;
  text-align:center;
  font-size:13px;
  color:var(--color-text-muted);
}
.workspace-content{
  flex:1;
  min-width:0;
  width:100%;
  display:flex;
  flex-direction:column;
  gap:0;
  min-height:0;
}
.workspace-toolbar{
  display:flex;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  padding:12px 16px;
  border-radius:var(--radius-md);
  background:var(--panel-muted);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-sm);
}
.workspace-view-toggle{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:10px;
  margin-bottom:12px;
}
.view-toggle-btn{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:8px 16px;
  border-radius:999px;
  border:1px solid var(--color-border);
  background:var(--chip-surface);
  color:var(--color-text-muted);
  font-size:13px;
  font-weight:600;
  transition:all .2s ease;
}
.view-toggle-btn:hover{
  color:var(--color-text);
  border-color:rgba(99,102,241,.4);
}
.view-toggle-btn.is-active{
  background:linear-gradient(135deg,rgba(99,102,241,.35),rgba(34,211,238,.22));
  border-color:rgba(99,102,241,.5);
  color:var(--color-text);
  box-shadow:var(--shadow-sm);
}
.view-toggle-btn.subtle{
  border-style:dashed;
  background:var(--color-surface-alt);
}
.toolbar-left{
  display:flex;
  align-items:center;
  gap:12px;
}
.toolbar-meta{
  font-size:12px;
  color:var(--color-text-muted);
}
.canvas-editor{
  flex:1;
  min-height:0;
  height:100%;
  display:flex;
  overflow:hidden;
  border-radius:var(--radius-lg);
  border:1px solid var(--panel-border);
  background:var(--panel-strong);
  box-shadow:var(--shadow-md);
  min-height:calc(100vh - var(--header-height) - 140px);
}
.canvas-editor .excalidraw{
  height:100%;
  width:100%;
  border-radius:inherit;
}
.canvas-editor .excalidraw__canvas-container{
  margin:0 !important;
  padding:0 !important;
}
.canvas-editor .excalidraw__canvas-wrapper{
  max-width:none;
}

.modal-backdrop{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,.32);
  backdrop-filter:blur(8px);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:50;
}
.modal{
  width:min(520px,92vw);
  max-height:90vh;
  background:var(--overlay-surface);
  border-radius:var(--radius-lg);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-lg);
  display:flex;
  flex-direction:column;
  overflow:hidden;
}
.modal-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:24px;
  border-bottom:1px solid rgba(148,163,184,.16);
}
.modal-title{
  font-size:18px;
  font-weight:700;
}
.modal-body{
  padding:24px;
  display:flex;
  flex-direction:column;
  gap:16px;
  overflow:auto;
}
.modal-footer{
  padding:20px 24px;
  border-top:1px solid rgba(148,163,184,.16);
}
.modal-actions{
  display:flex;
  justify-content:flex-end;
  gap:12px;
}
.modal-section{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.field-label{
  font-size:12px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.field-input,
.field-textarea,
select{
  border-radius:var(--radius-sm);
  border:1px solid rgba(148,163,184,.22);
  background:rgba(15,23,42,.64);
  padding:10px 14px;
  font-size:14px;
  color:var(--color-text);
}
.field-textarea{
  min-height:120px;
  resize:vertical;
}
.field-hint{
  font-size:12px;
  color:var(--color-text-muted);
}
.modal-inline{
  display:flex;
  flex-wrap:wrap;
  gap:14px;
}
.modal-field{
  flex:1;
  min-width:160px;
}
.wallpaper-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(80px,1fr));
  gap:12px;
}
.wallpaper{
  width:100%;
  padding-top:70%;
  border-radius:16px;
  border:2px solid transparent;
  background-size:cover;
  background-position:center;
  cursor:pointer;
}
.wallpaper.is-selected{
  border-color:rgba(79,70,229,.5);
  box-shadow:var(--shadow-sm);
}
.badge-row{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
}
.badge{
  width:30px;
  height:30px;
  border-radius:12px;
  border:2px solid transparent;
}
.badge.is-active{
  border-color:#fff;
  box-shadow:0 0 0 2px rgba(31,41,55,.2);
}

.confirm-shell{
  display:flex;
  gap:16px;
  align-items:flex-start;
}
.confirm-icon{
  width:44px;
  height:44px;
  border-radius:16px;
  display:grid;
  place-items:center;
  background:rgba(79,70,229,.12);
  color:var(--color-primary);
}
.confirm-tone-danger .confirm-icon{
  background:rgba(239,68,68,.12);
  color:var(--color-danger);
}
.confirm-tone-accent .confirm-icon{
  background:rgba(14,165,233,.12);
  color:var(--color-accent);
}
.confirm-copy{
  font-size:14px;
  color:var(--color-text);
  line-height:1.6;
}

.settings-shell{
  display:flex;
  flex-direction:column;
  gap:24px;
}
.settings-hero{
  display:flex;
  flex-wrap:wrap;
  align-items:flex-start;
  justify-content:space-between;
  gap:18px;
  padding:28px 30px;
  border-radius:var(--radius-lg);
  background:var(--panel-strong);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-md);
}
.settings-hero-copy h1{
  margin:0;
  font-size:30px;
  letter-spacing:.01em;
}
.settings-hero-copy p{
  margin:10px 0 0;
  font-size:14px;
  color:var(--color-text-muted);
  max-width:640px;
}
.settings-hero-pills{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}
.settings-pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:999px;
  background:var(--chip-surface);
  border:1px solid var(--panel-border);
  font-weight:600;
}
.settings-pill strong{color:var(--color-text);}
.settings-pill.subtle{color:var(--color-text-muted);}
.settings-hero-card{
  min-width:240px;
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:16px;
  border-radius:var(--radius-md);
  background:var(--panel-surface);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-sm);
}
.settings-hero-card-title{
  margin:0;
  font-size:16px;
  font-weight:700;
}
.settings-hero-card-desc{
  margin:4px 0 0;
  font-size:13px;
  color:var(--color-text-muted);
}
.settings-section{
  display:flex;
  flex-direction:column;
  gap:14px;
  padding:22px 24px;
  border-radius:var(--radius-lg);
  background:var(--panel-surface);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-sm);
}
.settings-section-header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:16px;
}
.settings-section-eyebrow{
  font-size:11px;
  letter-spacing:.2em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.settings-section-header h3{
  margin:4px 0 0;
  font-size:18px;
}
.settings-section-header p{
  margin:6px 0 0;
  color:var(--color-text-muted);
  max-width:520px;
}
.settings-grid{
  display:flex;
  flex-direction:column;
  gap:12px;
}
.theme-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
  gap:14px;
}
.theme-card{
  display:flex;
  flex-direction:column;
  gap:12px;
  padding:16px;
  border-radius:var(--radius-md);
  background:var(--panel-muted);
  border:1px solid var(--panel-border);
  text-align:left;
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.theme-card:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow-sm);
}
.theme-card.is-active{
  border-color:var(--color-primary);
  box-shadow:var(--shadow-md);
}
.theme-card-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.theme-card-icon{
  width:40px;
  height:40px;
  border-radius:14px;
  display:grid;
  place-items:center;
  background:var(--chip-surface);
  color:var(--color-primary);
}
.theme-card-meta{
  display:flex;
  flex-direction:column;
  gap:4px;
  flex:1;
}
.theme-name{
  margin:0;
  font-size:15px;
  font-weight:700;
}
.theme-desc{
  margin:0;
  color:var(--color-text-muted);
  font-size:13px;
}
.theme-swatches{
  display:flex;
  gap:8px;
}
.theme-swatches .theme-swatch{
  flex:1;
  height:12px;
  border-radius:999px;
  border:1px solid var(--panel-border);
}
.theme-swatches.mini .theme-swatch{
  height:8px;
}
.theme-card-footer{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  font-size:12px;
  color:var(--color-text-muted);
}
.theme-chip{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  background:var(--chip-surface);
  border:1px solid var(--panel-border);
  font-size:12px;
  font-weight:700;
  color:var(--color-text);
}
.theme-chip.default{
  color:var(--color-primary);
}
.setting-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
  padding:14px 16px;
  border-radius:var(--radius-md);
  border:1px solid var(--panel-border);
  background:var(--panel-muted);
}
.setting-row-copy{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.setting-row-title{
  margin:0;
  font-weight:700;
}
.setting-row-desc{
  margin:4px 0 0;
  color:var(--color-text-muted);
  font-size:13px;
}
.toggle{
  position:relative;
  width:54px;
  height:30px;
  border-radius:999px;
  background:var(--color-border);
  box-shadow:inset 0 1px 0 rgba(255,255,255,.04);
  transition:background .18s ease;
}
.toggle input{display:none;}
.toggle-handle{
  position:absolute;
  top:3px;
  left:4px;
  width:24px;
  height:24px;
  border-radius:50%;
  background:#fff;
  box-shadow:0 6px 16px rgba(0,0,0,.18);
  transition:transform .18s ease, background .18s ease;
}
.toggle.is-on{
  background:linear-gradient(135deg,var(--color-primary),var(--color-primary-soft));
}
.toggle.is-on .toggle-handle{
  transform:translateX(22px);
}

body[data-motion='reduced'] *{
  transition-duration:.01ms!important;
  animation-duration:.01ms!important;
}

body.focus-mode .app-frame-backdrop{
  opacity:.3;
  filter:blur(80px);
}
body.focus-mode .system-banner,
body.focus-mode .header-counter,
body.focus-mode .board-card,
body.focus-mode .collection-card{
  box-shadow:none;
}

@media (max-width:960px){
  .dashboard-toolbar,
  .dashboard-controls,
  .board-wrap,
  .notes-workspace{
    padding:24px;
  }
  .board-wrap{
    min-height:auto;
  }
  .canvas-editor{
    min-height:60vh;
  }
  .workspace-shell{
    flex-direction:column;
  }
  .workspace-sidebar{
    flex:1 1 auto;
    width:auto;
  }
  .lists{
    gap:16px;
    flex-wrap:wrap;
  }
  .list{
    width:100%;
  }
  .board-card{
    padding:22px;
  }
}
@media (max-width:640px){
  .global-header{
    padding:18px 20px;
    flex-wrap:wrap;
    gap:16px;
  }
  .main-scroll{
    padding:24px 20px 36px;
  }
  .note-editor-pane{
    flex-direction:column;
  }
  .note-gutter{
    width:100%;
    text-align:left;
    padding:12px 20px;
  }
  .note-textarea{
    min-height:200px;
  }
}
.overview-shell{
  display:flex;
  flex-direction:column;
  gap:28px;
}
.overview-hero{
  display:flex;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:flex-end;
  gap:20px;
  padding:28px;
  border-radius:var(--radius-lg);
  background:var(--panel-strong);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-md);
}
.overview-hero-copy h1{
  margin:0;
  font-size:28px;
  font-weight:700;
}
.overview-hero-copy p{
  margin:8px 0 0;
  font-size:14px;
  color:var(--color-text-muted);
}
.overview-hero-actions{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}
.overview-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}
.overview-tile{
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:24px;
  border-radius:var(--radius-lg);
  background:var(--panel-surface);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-sm);
}
.overview-tile-header{
  display:flex;
  gap:16px;
  align-items:center;
}
.overview-tile-icon .dot{
  width:16px;
  height:16px;
  border-radius:50%;
  display:inline-block;
}
.dot-purple{background:#8b5cf6;}
.dot-teal{background:#22d3ee;}
.dot-blue{background:#38bdf8;}
.overview-tile-title{
  font-size:14px;
  letter-spacing:.16em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.overview-tile-subtitle{
  font-size:12px;
  color:var(--color-text-muted);
}
.overview-tile-value{
  font-size:32px;
  font-weight:700;
}
.overview-columns{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
}
.overview-list{
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:24px;
  border-radius:var(--radius-lg);
  background:var(--panel-surface);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-sm);
}
.overview-list-header h3{
  margin:0;
  font-size:16px;
  font-weight:600;
}
.overview-list-body{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.overview-list-item{
  text-align:left;
  padding:12px 16px;
  border-radius:14px;
  border:1px solid transparent;
  background:rgba(148,163,184,.08);
  color:var(--color-text);
  transition:all .2s ease;
}
.overview-list-item:hover{
  border-color:rgba(99,102,241,.4);
  box-shadow:var(--shadow-sm);
}
.overview-list-item-title{
  font-weight:600;
}
.overview-list-item-meta{
  font-size:12px;
  color:var(--color-text-muted);
}
.overview-list-empty{
  padding:32px;
  text-align:center;
  color:var(--color-text-muted);
  border:1px dashed rgba(148,163,184,.24);
  border-radius:var(--radius-md);
}

.collection-dashboard{
  display:flex;
  flex-direction:column;
  gap:24px;
}
.collection-header{
  display:flex;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:flex-end;
  gap:16px;
}
.collection-header-copy h1{
  margin:0;
  font-size:26px;
  font-weight:700;
}
.collection-header-copy p{
  margin:8px 0 0;
  color:var(--color-text-muted);
}
.collection-header-actions{
  display:flex;
  gap:12px;
}
.collection-controls{
  display:flex;
  flex-wrap:wrap;
  gap:16px;
  align-items:flex-end;
}
.collection-control{
  display:flex;
  flex-direction:column;
  gap:6px;
  min-width:200px;
}
.collection-control-label{
  font-size:12px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.collection-input,
.collection-controls select{
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface);
  color:var(--color-text);
  padding:10px 14px;
  font-size:14px;
}
.collection-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:20px;
}
.collection-card{
  display:flex;
  flex-direction:column;
  gap:12px;
  padding:22px;
  border-radius:var(--radius-lg);
  background:var(--panel-surface);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-sm);
  text-align:left;
  transition:transform .2s ease, box-shadow .2s ease;
  cursor:pointer;
}
.collection-card:hover{
  transform:translateY(-4px);
  box-shadow:var(--shadow-md);
}
.collection-card-cta{
  border-style:dashed;
  border-color:rgba(99,102,241,.4);
  background:linear-gradient(155deg,rgba(99,102,241,.18),rgba(34,211,238,.14));
}
.collection-card-header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}
.collection-card-header h3{
  margin:0;
  font-size:18px;
  font-weight:600;
}
.collection-card-body p{
  margin:0;
  font-size:13px;
  color:var(--color-text-muted);
}
.collection-card-footer{
  font-size:12px;
  color:var(--color-text-muted);
}
.collection-empty{
  grid-column:1/-1;
  padding:48px;
  border-radius:var(--radius-lg);
  border:1px dashed var(--panel-border);
  text-align:center;
  color:var(--color-text-muted);
  background:var(--panel-muted);
  display:flex;
  flex-direction:column;
  gap:16px;
  align-items:center;
}

.canvas-dashboard{
  display:flex;
  flex-direction:column;
  gap:28px;
}
.canvas-dashboard-hero{
  display:flex;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:flex-end;
  gap:20px;
  padding:30px 32px;
  border-radius:var(--radius-lg);
  background:var(--panel-strong);
  border:1px solid var(--panel-border);
  box-shadow:var(--shadow-md);
}
.canvas-dashboard-hero-copy h1{
  margin:0;
  font-size:30px;
  font-weight:700;
}
.canvas-dashboard-hero-copy p{
  margin:10px 0 0;
  font-size:14px;
  color:var(--color-text-muted);
  max-width:520px;
}
.canvas-dashboard-hero-actions{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}
.canvas-dashboard-metrics{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:18px;
}
.canvas-metric-card{
  display:flex;
  flex-direction:column;
  gap:6px;
  padding:18px 22px;
  border-radius:var(--radius-lg);
  background:var(--panel-muted);
  border:1px solid var(--panel-border);
}
.canvas-metric-label{
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:.18em;
  color:var(--color-text-muted);
}
.canvas-metric-value{
  font-size:24px;
  font-weight:700;
}
.canvas-dashboard-toolbar{
  display:flex;
  flex-wrap:wrap;
  gap:16px;
  align-items:flex-end;
  padding:0 4px;
}
.canvas-toolbar-field{
  display:flex;
  flex-direction:column;
  gap:8px;
  min-width:220px;
}
.canvas-toolbar-label{
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:.18em;
  color:var(--color-text-muted);
}
.canvas-toolbar-input,
.canvas-toolbar-select{
  width:100%;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface);
  color:var(--color-text);
  padding:12px 14px;
  font-size:14px;
}
.canvas-toolbar-input:focus,
.canvas-toolbar-select:focus{
  outline:none;
  border-color:rgba(159,122,234,.42);
  box-shadow:0 0 0 3px rgba(159,122,234,.15);
}
.canvas-toolbar-spacer{
  flex:1;
}
.canvas-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:22px;
}
.canvas-card{
  position:relative;
  display:flex;
  flex-direction:column;
  border-radius:var(--radius-lg);
  overflow:hidden;
  border:1px solid var(--panel-border);
  background:var(--panel-surface);
  box-shadow:var(--shadow-sm);
  cursor:pointer;
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.canvas-card:hover{
  transform:translateY(-3px);
  border-color:var(--panel-border-strong);
  box-shadow:var(--shadow-md);
}
.canvas-card-cover{
  height:156px;
  background-size:cover;
  background-position:center;
}
.canvas-card-body{
  display:flex;
  flex-direction:column;
  gap:18px;
  padding:22px 24px;
}
.canvas-card-header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
}
.canvas-card-title{
  margin:0;
  font-size:18px;
  font-weight:600;
}
.canvas-card-actions{
  display:flex;
  gap:10px;
}
.canvas-card-action{
  padding:0;
  border:0;
  background:none;
  color:var(--color-text-muted);
  font-size:13px;
  font-weight:600;
  letter-spacing:.08em;
  text-transform:uppercase;
  transition:color .2s ease;
}
.canvas-card-action:hover{
  color:var(--color-text);
}
.canvas-card-action.danger{
  color:var(--color-danger);
}
.canvas-card-meta{
  font-size:12px;
  letter-spacing:.16em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.canvas-card-footer{
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-size:12px;
  color:var(--color-text-muted);
}
.canvas-card-new{
  align-items:flex-start;
  justify-content:space-between;
  gap:18px;
  padding:28px;
  border:1px dashed var(--panel-border);
  background:var(--panel-muted);
}
.canvas-card-badge{
  display:inline-flex;
  align-items:center;
  padding:6px 12px;
  border-radius:999px;
  background:var(--chip-surface);
  border:1px solid var(--panel-border);
  font-size:11px;
  letter-spacing:.2em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.canvas-card-caption{
  margin:0;
  font-size:13px;
  color:var(--color-text-muted);
}
.canvas-card-rename{
  flex:1;
}
.canvas-card-rename-input{
  width:100%;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface);
  color:var(--color-text);
  padding:10px 12px;
  font-size:15px;
}
.canvas-card-rename-input:focus{
  outline:none;
  border-color:rgba(159,122,234,.4);
  box-shadow:0 0 0 3px rgba(159,122,234,.15);
}
.canvas-dashboard-empty{
  grid-column:1/-1;
  display:flex;
  flex-direction:column;
  gap:16px;
  align-items:center;
  padding:60px 30px;
  border-radius:var(--radius-lg);
  border:1px dashed var(--panel-border);
  background:var(--panel-muted);
  color:var(--color-text-muted);
  text-align:center;
}

.canvas-standalone{
  display:flex;
  flex-direction:column;
  flex:1;
  min-height:0;
}
.canvas-standalone.canvas-zen{
  position:fixed;
  inset:0;
  z-index:60;
  background:linear-gradient(170deg,rgba(4,8,19,.92),rgba(4,8,19,.98));
}
.canvas-standalone.canvas-zen .canvas-editor{
  flex:1;
  border-radius:0;
  border:0;
  box-shadow:none;
}


.canvas-select{
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface);
  color:var(--color-text);
  padding:10px 14px;
  font-size:14px;
}


.canvas-empty{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--color-text-muted);
  font-size:14px;
  border:1px dashed rgba(148,163,184,.28);
  border-radius:var(--radius-md);
  padding:32px;
}
.icon-small.accent{
  color:#fff;
  background:linear-gradient(135deg,var(--color-primary),var(--color-primary-soft));
  border-color:transparent;
  box-shadow:0 12px 24px rgba(99,102,241,.28);
}
.icon-small.accent:hover{
  box-shadow:0 16px 28px rgba(99,102,241,.36);
}
