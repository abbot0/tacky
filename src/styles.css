:root{
  --color-bg:#050914;
  --color-bg-accent:#071022;
  --color-surface:#0f172a;
  --color-surface-alt:#111c34;
  --color-border:rgba(148,163,184,.18);
  --color-border-strong:rgba(148,163,184,.3);
  --color-text:#f8fafc;
  --color-text-muted:rgba(148,163,184,.72);
  --color-primary:#6366f1;
  --color-primary-soft:#8b5cf6;
  --color-accent:#22d3ee;
  --color-success:#34d399;
  --color-danger:#f87171;
  --color-warning:#fbbf24;
  --sidebar-width:272px;
  --header-height:74px;
  --radius-lg:24px;
  --radius-md:18px;
  --radius-sm:12px;
  --shadow-sm:0 18px 38px rgba(3,10,35,.42);
  --shadow-md:0 28px 64px rgba(2,8,30,.5);
  --shadow-lg:0 48px 120px rgba(1,6,26,.62);
}
*,
*::before,
*::after{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(circle at 20% 15%,rgba(34,211,238,.18),transparent 55%),
    radial-gradient(circle at 80% 5%,rgba(139,92,246,.22),transparent 50%),
    linear-gradient(170deg,#040813 0%,#070f21 55%,#0a1328 100%);
  color:var(--color-text);
  font-family:'Inter','Segoe UI',system-ui,-apple-system,'Roboto',sans-serif;
  -webkit-font-smoothing:antialiased;
}
body.is-dragging,
body.is-dragging *{
  cursor:grabbing!important;
  user-select:none!important;
}
#root{
  min-height:100vh;
}
a{
  color:var(--color-primary);
  text-decoration:none;
}
a:hover{text-decoration:underline}
svg.icon{display:block;width:20px;height:20px;flex-shrink:0}
.icon-sm{width:16px;height:16px}
.icon-xs{width:14px;height:14px}
.icon-lg{width:24px;height:24px}
button{
  font-family:inherit;
  font-size:14px;
  border:0;
  cursor:pointer;
  background:none;
  color:inherit;
}
button:disabled{
  cursor:not-allowed;
  opacity:.6;
}
.button{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:10px 18px;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface);
  color:var(--color-text);
  font-weight:600;
  letter-spacing:.01em;
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.button:hover:not(:disabled){
  transform:translateY(-1px);
  border-color:var(--color-border-strong);
  box-shadow:var(--shadow-sm);
}
.button:focus-visible{
  outline:none;
  box-shadow:0 0 0 3px rgba(79,70,229,.25);
}
.accent-button,
.button.accent{
  background:linear-gradient(135deg,var(--color-primary),var(--color-primary-soft));
  color:#fff;
  border-color:transparent;
  box-shadow:var(--shadow-sm);
}
.accent-button:hover,
.button.accent:hover{
  box-shadow:var(--shadow-md);
}
.danger-button,
.button.danger{
  background:linear-gradient(135deg,#f87171,var(--color-danger));
  color:#fff;
  border-color:transparent;
}
.ghost-button,
.button.ghost{
  background:var(--color-surface-alt);
  border-color:var(--color-border-strong);
}
.icon-button{
  width:40px;
  height:40px;
  border-radius:14px;
  border:1px solid var(--color-border);
  background:var(--color-surface);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.icon-button:hover{
  transform:translateY(-1px);
  border-color:var(--color-border-strong);
  box-shadow:var(--shadow-sm);
}
.header-pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:10px 18px;
  border-radius:999px;
  background:var(--color-surface);
  border:1px solid var(--color-border);
  font-weight:600;
}
.header-pill.accent{
  background:linear-gradient(135deg,var(--color-primary),var(--color-primary-soft));
  color:#fff;
  border-color:transparent;
  box-shadow:var(--shadow-sm);
}
.header-pill.ghost{
  background:var(--color-surface-alt);
}
.toolbar-btn{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 16px;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface);
  font-size:13px;
  font-weight:500;
}
.toolbar-btn.danger{
  color:var(--color-danger);
  border-color:rgba(239,68,68,.2);
  background:rgba(239,68,68,.08);
}
.link-label{
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.app-shell{
  display:grid;
  grid-template-columns:var(--sidebar-width) minmax(0,1fr);
  min-height:100vh;
  width:100%;
  max-width:100vw;
  background:linear-gradient(150deg,rgba(12,18,36,.94),rgba(8,12,26,.88));
}
.app-shell.sidebar-collapsed{
  grid-template-columns:96px minmax(0,1fr);
}
.app-sidebar{
  position:relative;
  padding:32px 28px;
  display:flex;
  flex-direction:column;
  gap:32px;
  background:linear-gradient(190deg,rgba(15,22,40,.96)0%,rgba(12,18,34,.92)100%);
  border-right:1px solid rgba(148,163,184,.12);
  box-shadow:inset -1px 0 0 rgba(15,23,42,.4);
  overflow:hidden;
}
.app-shell.sidebar-collapsed .app-sidebar{
  align-items:center;
  padding:32px 18px;
}
.sidebar-brand{
  display:flex;
  align-items:center;
  gap:14px;
}
.brand-mark{
  width:44px;
  height:44px;
  border-radius:16px;
  background:linear-gradient(135deg,rgba(99,102,241,.32),rgba(34,211,238,.18));
  display:grid;
  place-items:center;
  color:var(--color-primary);
}
.brand-copy{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.brand-title{
  font-size:18px;
  font-weight:700;
}
.brand-subtitle{
  font-size:11px;
  letter-spacing:.2em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.app-shell.sidebar-collapsed .brand-copy{
  display:none;
}
.sidebar-nav{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.sidebar-nav-item{
  position:relative;
  width:100%;
  display:flex;
  align-items:center;
  gap:14px;
  padding:8px 12px;
  border-radius:var(--radius-md);
  border:1px solid transparent;
  background:rgba(148,163,184,.05);
  color:var(--color-text-muted);
  font-weight:600;
  transition:background .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.sidebar-nav-item .nav-icon{
  color:var(--color-primary);
}
.sidebar-nav-item:hover{
  background:rgba(99,102,241,.12);
  border-color:rgba(99,102,241,.35);
  color:var(--color-text);
  box-shadow:var(--shadow-sm);
}
.sidebar-nav-item.is-active{
  background:linear-gradient(135deg,rgba(99,102,241,.25),rgba(34,211,238,.18));
  border-color:rgba(99,102,241,.45);
  color:var(--color-text);
  box-shadow:var(--shadow-md);
}
.nav-content{
  display:flex;
  flex-direction:column;
  gap:2px;
  align-items:flex-start;
}
.nav-label{
  font-size:14px;
}
.nav-hint{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.16em;
  color:var(--color-text-muted);
}
.nav-indicator{
  margin-left:auto;
  width:8px;
  height:8px;
  border-radius:50%;
  background:rgba(79,70,229,.0);
  transition:background .2s ease, transform .2s ease;
}
.sidebar-nav-item.is-active .nav-indicator{
  background:var(--color-primary);
  transform:scale(1.3);
}
.app-shell.sidebar-collapsed .sidebar-nav-item{
  justify-content:center;
  padding:14px;
}
.app-shell.sidebar-collapsed .sidebar-nav-item .nav-content,
.app-shell.sidebar-collapsed .sidebar-nav-item .nav-indicator{
  display:none;
}
.sidebar-footer{
  margin-top:auto;
  display:flex;
  flex-direction:column;
  gap:18px;
  padding:20px;
  border-radius:var(--radius-md);
  background:linear-gradient(165deg,rgba(10,18,34,.95),rgba(8,14,28,.85));
  border:1px solid rgba(148,163,184,.18);
  box-shadow:var(--shadow-sm);
  width:100%;
}
.app-shell.sidebar-collapsed .sidebar-footer{display:none;}
.sidebar-status{
  display:flex;
  flex-direction:column;
  gap:4px;
}
.sidebar-status-label{
  font-size:11px;
  letter-spacing:.2em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.sidebar-status-value{
  font-size:13px;
  font-weight:600;
}
.sidebar-status-value.status-available{color:var(--color-primary)}
.sidebar-status-value.status-downloading{color:var(--color-warning)}
.sidebar-status-value.status-downloaded{color:var(--color-success)}
.sidebar-status-value.status-error{color:var(--color-danger)}
.sidebar-version-row{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  color:var(--color-text-muted);
}
.sidebar-update-btn{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 16px;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface-alt);
  font-weight:600;
}
.sidebar-update-btn:hover{
  border-color:var(--color-border-strong);
}
.sidebar-update-icon{
  width:18px;
  height:18px;
  color:var(--color-primary);
}
.sidebar-floating-btn{
  display:none;
  position:fixed;
  top:20px;
  left:20px;
  width:52px;
  height:52px;
  border-radius:18px;
  background:var(--color-surface);
  border:1px solid var(--color-border);
  box-shadow:var(--shadow-sm);
  align-items:center;
  justify-content:center;
}
.app-main{
  display:flex;
  flex-direction:column;
  width:100%;
  background:linear-gradient(185deg,rgba(8,14,28,.95) 0%,rgba(6,10,22,.9) 100%);
}
.app-header{
  position:sticky;
  top:0;
  z-index:5;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:24px;
  padding:18px 32px;
  min-height:var(--header-height);
  background:rgba(9,14,26,.86);
  backdrop-filter:blur(18px);
  border-bottom:1px solid rgba(148,163,184,.12);
}
.header-left{
  display:flex;
  align-items:center;
  gap:16px;
}
.header-menu-btn{
  width:44px;
  height:44px;
  border-radius:16px;
  border:1px solid var(--color-border);
  background:var(--color-surface);
  display:flex;
  align-items:center;
  justify-content:center;
}
.header-breadcrumb{
  display:flex;
  align-items:center;
  gap:8px;
  font-size:13px;
  letter-spacing:.12em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.crumb{
  display:inline-flex;
  align-items:center;
  gap:6px;
}
.crumb.active{
  color:var(--color-text);
  letter-spacing:.18em;
}
.header-actions{
  display:flex;
  align-items:center;
  gap:12px;
}
.app-content{
  flex:1;
  padding:32px 32px 48px;
  display:flex;
  flex-direction:column;
  gap:28px;
  overflow-y:auto;
  min-height:0;
}
.update-banner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:20px;
  padding:18px 24px;
  border-radius:var(--radius-lg);
  border:1px solid var(--color-border);
  background:linear-gradient(160deg,rgba(12,19,36,.94),rgba(9,15,30,.88));
  box-shadow:var(--shadow-sm);
}
.update-banner-available{border-color:rgba(79,70,229,.3)}
.update-banner-downloading{border-color:rgba(14,165,233,.3)}
.update-banner-downloaded{border-color:rgba(16,185,129,.3)}
.update-banner-error{border-color:rgba(239,68,68,.3)}
.update-banner-content{
  display:flex;
  align-items:center;
  gap:16px;
}
.banner-icon{
  width:26px;
  height:26px;
  color:var(--color-primary);
}
.update-banner-error .banner-icon{color:var(--color-danger)}
.banner-title{
  margin:0;
  font-size:15px;
  font-weight:700;
}
.banner-subtitle{
  margin:4px 0 0;
  font-size:13px;
  color:var(--color-text-muted);
}
.banner-actions{
  display:flex;
  align-items:center;
  gap:12px;
}
.banner-progress{
  font-weight:600;
  color:var(--color-primary);
}
.dashboard-shell{
  display:flex;
  flex-direction:column;
  gap:24px;
}
.dashboard-toolbar{
  display:flex;
  flex-wrap:wrap;
  align-items:flex-end;
  justify-content:space-between;
  gap:20px;
  padding:28px 32px;
  border-radius:var(--radius-lg);
  background:linear-gradient(150deg,rgba(12,19,36,.95),rgba(11,18,34,.88));
  border:1px solid rgba(148,163,184,.18);
  box-shadow:var(--shadow-md);
}
.dashboard-toolbar-left{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.dashboard-title{
  margin:0;
  font-size:26px;
  font-weight:700;
}
.dashboard-subtitle{
  margin:0;
  font-size:14px;
  color:var(--color-text-muted);
  max-width:520px;
}
.dashboard-controls{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:18px;
  align-items:end;
  padding:22px 24px;
  border-radius:var(--radius-lg);
  background:linear-gradient(150deg,rgba(12,18,34,.94),rgba(10,16,30,.88));
  border:1px solid rgba(148,163,184,.16);
  box-shadow:var(--shadow-sm);
}
.dashboard-control{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.control-label{
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.dashboard-search{
  display:flex;
  align-items:center;
  gap:12px;
  padding:12px 16px;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  background:var(--color-surface-alt);
}
.dashboard-search-input{
  flex:1;
  border:0;
  background:transparent;
  font-size:14px;
  color:var(--color-text);
}
.dashboard-search-input:focus{outline:none}
.dashboard-sort select{
  width:100%;
  border-radius:var(--radius-sm);
  border:1px solid var(--color-border);
  padding:10px 14px;
  background:var(--color-surface);
  font-size:14px;
}
.board-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:24px;
}
.board-card{
  position:relative;
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:26px;
  border-radius:var(--radius-lg);
  background:linear-gradient(155deg,rgba(14,22,42,.95),rgba(11,19,38,.88));
  border:1px solid rgba(148,163,184,.18);
  box-shadow:var(--shadow-sm);
  cursor:pointer;
  transition:transform .2s ease, box-shadow .2s ease;
}
.board-card:hover{
  transform:translateY(-4px);
  box-shadow:var(--shadow-md);
}
.board-card.board-card-new{
  border-style:dashed;
  border-color:rgba(99,102,241,.45);
  color:var(--color-primary);
  align-items:center;
  text-align:center;
  justify-content:center;
  background:linear-gradient(155deg,rgba(99,102,241,.18),rgba(34,211,238,.14));
}
.board-card-cover{
  position:absolute;
  inset:0;
  background:var(--board-cover, linear-gradient(135deg,rgba(99,102,241,.32),rgba(34,211,238,.18)));
  opacity:.2;
  border-radius:inherit;
}
.board-card-body{
  position:relative;
  display:flex;
  flex-direction:column;
  gap:14px;
}
.board-card-header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
}
.board-card-title{
  margin:0;
  font-size:18px;
  font-weight:700;
}
.board-card-icon{
  width:52px;
  height:52px;
  border-radius:18px;
  background:rgba(79,70,229,.18);
  display:grid;
  place-items:center;
  color:var(--color-primary);
}
.board-card-meta{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.board-card-dot{
  width:12px;
  height:12px;
  border-radius:50%;
  border:1px solid rgba(255,255,255,.7);
}
.board-card-caption{
  margin:0;
  font-size:13px;
  color:var(--color-text-muted);
}
.board-card-footer{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  color:var(--color-text-muted);
}
.board-empty{
  grid-column:1/-1;
  padding:48px;
  border-radius:var(--radius-lg);
  border:1px dashed rgba(148,163,184,.28);
  background:linear-gradient(160deg,rgba(13,22,40,.92),rgba(9,16,32,.88));
  text-align:center;
  color:var(--color-text-muted);
  display:flex;
  flex-direction:column;
  gap:18px;
  align-items:center;
}
.board-wrap{
  display:flex;
  flex-direction:column;
  gap:20px;
  padding:28px;
  border-radius:var(--radius-lg);
  background:linear-gradient(165deg,rgba(11,19,38,.95),rgba(8,14,30,.9));
  border:1px solid rgba(148,163,184,.2);
  box-shadow:var(--shadow-md);
}
.board-header{
  display:flex;
  align-items:center;
  gap:16px;
  padding-bottom:8px;
  border-bottom:1px solid var(--color-border);
}
.board-header h3{
  margin:0;
  font-size:20px;
  font-weight:700;
}
.spacer{flex:1}
.footer-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.board-scroller{
  overflow-x:auto;
  overflow-y:hidden;
  padding-bottom:8px;
  scrollbar-gutter:stable both-edges;
  overscroll-behavior:contain;
}
.lists{
  display:flex;
  gap:20px;
  align-items:flex-start;
  min-height:260px;
}
.list{
  width:320px;
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:18px;
  border-radius:var(--radius-md);
  background:var(--color-surface-alt);
  border:1px solid var(--color-border);
  box-shadow:var(--shadow-sm);
  transition:transform .18s ease, box-shadow .18s ease;
}
.list--dragging{
  transform:translateY(-2px) scale(1.01);
  box-shadow:var(--shadow-md);
}
.list-header{
  display:flex;
  justify-content:space-between;
  gap:12px;
  align-items:center;
  cursor:grab;
}
.list-header:active{
  cursor:grabbing;
}
.list-title{
  margin:0;
  font-size:16px;
  font-weight:600;
}
.row{
  display:flex;
  gap:8px;
}
.list .button.icon-btn{
  padding:8px 12px;
  font-size:12px;
}
.list-body{
  display:flex;
  flex-direction:column;
  gap:12px;
  position:relative;
  transition:background .2s ease, box-shadow .2s ease, padding .2s ease, margin .2s ease;
  overflow-y:auto;
  max-height:min(520px, 65vh);
  padding-right:6px;
  overscroll-behavior:contain;
  scrollbar-width:thin;
  scrollbar-gutter:stable both-edges;
}
.list-body::-webkit-scrollbar{
  width:6px;
}
.list-body::-webkit-scrollbar-thumb{
  background:rgba(129,140,248,.35);
  border-radius:999px;
}
.list-body::-webkit-scrollbar-track{
  background:transparent;
}
.list-body--drag-over{
  margin:-8px;
  padding:8px;
  border-radius:var(--radius-sm);
  background:rgba(99,102,241,.12);
  box-shadow:inset 0 0 0 1px rgba(129,140,248,.35);
}
.list-body--drag-over::after{
  content:'';
  position:absolute;
  inset:4px 2px;
  border:1px dashed rgba(129,140,248,.55);
  border-radius:inherit;
  pointer-events:none;
}
.card{
  position:relative;
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:16px;
  border-radius:var(--radius-sm);
  background:var(--color-surface);
  border:1px solid var(--color-border);
  box-shadow:var(--shadow-sm);
  transition:transform .16s ease, box-shadow .16s ease;
  cursor:grab;
}
.card:hover{
  transform:translateY(-2px);
  box-shadow:var(--shadow-md);
}
.card:active,
.card--dragging{
  cursor:grabbing;
}
.card--dragging{
  box-shadow:var(--shadow-lg);
}
.card-actions{
  position:absolute;
  top:10px;
  right:10px;
  display:flex;
  gap:6px;
  opacity:0;
  transform:translateY(-6px);
  transition:opacity .2s ease, transform .2s ease;
}
.card:hover .card-actions{
  opacity:1;
  transform:translateY(0);
}
.icon-small{
  width:28px;
  height:28px;
  border-radius:12px;
  border:1px solid var(--color-border);
  background:var(--color-surface-alt);
  display:grid;
  place-items:center;
  font-size:12px;
}
.card-labels{
  display:flex;
  gap:6px;
}
.card-labels .label{
  width:16px;
  height:6px;
  border-radius:999px;
}
.card-title{
  font-weight:600;
}
.card-desc{
  font-size:13px;
  color:var(--color-text-muted);
}
.card-due{
  font-size:12px;
  font-weight:600;
  color:var(--color-warning);
}
.empty{
  font-size:12px;
  color:var(--color-text-muted);
  margin-top:12px;
}

.notes-workspace{
  display:flex;
  flex-direction:column;
  gap:18px;
  padding:24px;
  border-radius:var(--radius-lg);
  background:linear-gradient(165deg,rgba(10,18,34,.95),rgba(7,13,26,.9));
  border:1px solid rgba(148,163,184,.18);
  box-shadow:var(--shadow-md);
  flex:1;
  min-height:calc(100vh - var(--header-height) - 96px);
}
.note-tabs{
  display:flex;
  gap:10px;
  overflow-x:auto;
  padding-bottom:8px;
  border-bottom:1px solid var(--color-border);
}
.tab-strip{
  display:flex;
  gap:10px;
}
.note-tab{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 18px;
  border-radius:999px;
  border:1px solid transparent;
  background:rgba(148,163,184,.08);
  font-weight:600;
  color:var(--color-text-muted);
  white-space:nowrap;
}
.note-tab.is-active{
  background:linear-gradient(135deg,rgba(99,102,241,.22),rgba(34,211,238,.16));
  border-color:rgba(99,102,241,.42);
  color:var(--color-text);
  box-shadow:var(--shadow-sm);
}
.note-tab.new-tab{
  font-size:20px;
  width:42px;
  height:42px;
  padding:0;
  display:grid;
  place-items:center;
}
.note-toolbar{
  display:flex;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:center;
  gap:14px;
  padding-bottom:8px;
}
.note-title-field{
  flex:1;
  min-width:220px;
  padding:12px 14px;
  border-radius:var(--radius-sm);
  border:1px solid rgba(148,163,184,.22);
  background:rgba(15,23,42,.65);
  font-size:16px;
  font-weight:600;
}
.note-editor-pane{
  display:flex;
  border-radius:var(--radius-md);
  border:1px solid rgba(148,163,184,.2);
  overflow:hidden;
  min-height:0;
  flex:1;
  background:rgba(15,23,42,.6);
}
.note-gutter{
  width:54px;
  padding:16px 0;
  text-align:right;
  font-family:'JetBrains Mono','Fira Code','SFMono-Regular','Consolas',monospace;
  font-size:12px;
  color:var(--color-text-muted);
  background:rgba(10,17,33,.9);
  border-right:1px solid rgba(148,163,184,.14);
}
.note-gutter-line{
  padding:2px 12px;
  font-family:'JetBrains Mono','Fira Code','SFMono-Regular','Consolas',monospace;
  line-height:1.6;
}
.note-textarea{
  flex:1;
  border:0;
  padding:18px 24px;
  font-family:'JetBrains Mono','Fira Code','SFMono-Regular','Consolas',monospace;
  font-size:14px;
  line-height:1.6;
  background:transparent;
  color:var(--color-text);
  resize:none;
  min-height:0;
  height:100%;
  overflow:auto;
}
.note-textarea:focus{outline:none}
.note-status{
  display:flex;
  flex-wrap:wrap;
  gap:16px;
  font-size:12px;
  color:var(--color-text-muted);
}
.note-empty{
  padding:48px;
  border-radius:var(--radius-md);
  border:1px dashed rgba(148,163,184,.28);
  text-align:center;
  color:var(--color-text-muted);
  background:rgba(15,23,42,.55);
}

.workspace-shell{
  display:flex;
  gap:18px;
  flex-wrap:nowrap;
  align-items:stretch;
  flex:1;
  min-height:0;
  width:100%;
}
.workspace-shell.sidebar-hidden .workspace-sidebar{
  width:0;
  padding:0;
  margin:0;
  opacity:0;
  pointer-events:none;
}
.workspace-shell.sidebar-hidden{
  gap:0;
}
.workspace-shell.sidebar-hidden .workspace-content{
  margin-left:0;
}
.workspace-sidebar{
  flex:0 0 210px;
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:22px;
  border-radius:var(--radius-lg);
  background:linear-gradient(165deg,rgba(12,20,38,.94),rgba(9,16,32,.9));
  border:1px solid rgba(148,163,184,.18);
  box-shadow:var(--shadow-sm);
}
.workspace-sidebar.is-collapsed{
  width:0;
  padding:0;
  margin:0;
  opacity:0;
  pointer-events:none;
}
.sidebar-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.sidebar-title{
  font-size:16px;
  font-weight:600;
}
.sidebar-list{
  display:flex;
  flex-direction:column;
  gap:10px;
  overflow:auto;
  max-height:420px;
  padding-right:6px;
}
.sidebar-item{
  display:flex;
  flex-direction:column;
  gap:4px;
  padding:12px 14px;
  border-radius:var(--radius-md);
  border:1px solid transparent;
  background:rgba(148,163,184,.08);
  text-align:left;
  transition:border-color .2s ease, background .2s ease, box-shadow .2s ease;
}
.sidebar-item:hover{
  border-color:rgba(148,163,184,.24);
}
.sidebar-item.is-active{
  border-color:rgba(99,102,241,.4);
  background:linear-gradient(140deg,rgba(99,102,241,.24),rgba(34,211,238,.18));
  box-shadow:var(--shadow-md);
}
.sidebar-item-meta{
  font-size:12px;
  color:var(--color-text-muted);
}
.sidebar-empty{
  padding:24px;
  text-align:center;
  font-size:13px;
  color:var(--color-text-muted);
}
.workspace-content{
  flex:1;
  min-width:0;
  width:100%;
  display:flex;
  flex-direction:column;
  gap:0;
  min-height:0;
}
.workspace-toolbar{
  display:flex;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  padding:12px 16px;
  border-radius:var(--radius-md);
  background:linear-gradient(155deg,rgba(12,20,36,.82),rgba(9,16,30,.78));
  border:1px solid rgba(148,163,184,.14);
  box-shadow:var(--shadow-sm);
}
.workspace-view-toggle{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:10px;
  margin-bottom:12px;
}
.view-toggle-btn{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:8px 16px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,.2);
  background:rgba(15,23,42,.6);
  color:var(--color-text-muted);
  font-size:13px;
  font-weight:600;
  transition:all .2s ease;
}
.view-toggle-btn:hover{
  color:var(--color-text);
  border-color:rgba(99,102,241,.4);
}
.view-toggle-btn.is-active{
  background:linear-gradient(135deg,rgba(99,102,241,.35),rgba(34,211,238,.22));
  border-color:rgba(99,102,241,.5);
  color:var(--color-text);
  box-shadow:var(--shadow-sm);
}
.view-toggle-btn.subtle{
  border-style:dashed;
  background:rgba(15,23,42,.45);
}
.toolbar-left{
  display:flex;
  align-items:center;
  gap:12px;
}
.toolbar-meta{
  font-size:12px;
  color:var(--color-text-muted);
}
.canvas-editor{
  flex:1;
  min-height:0;
  height:100%;
  display:flex;
  overflow:hidden;
}
.canvas-editor .excalidraw{
  height:100%;
  width:100%;
}
.canvas-editor .excalidraw__canvas-container{
  margin:0 !important;
  padding:0 !important;
}
.canvas-editor .excalidraw__canvas-wrapper{
  max-width:none;
}

.modal-backdrop{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,.32);
  backdrop-filter:blur(8px);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:50;
}
.modal{
  width:min(520px,92vw);
  max-height:90vh;
  background:linear-gradient(165deg,rgba(10,18,34,.95),rgba(7,13,26,.9));
  border-radius:var(--radius-lg);
  border:1px solid rgba(148,163,184,.2);
  box-shadow:var(--shadow-lg);
  display:flex;
  flex-direction:column;
  overflow:hidden;
}
.modal-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:24px;
  border-bottom:1px solid rgba(148,163,184,.16);
}
.modal-title{
  font-size:18px;
  font-weight:700;
}
.modal-body{
  padding:24px;
  display:flex;
  flex-direction:column;
  gap:16px;
  overflow:auto;
}
.modal-footer{
  padding:20px 24px;
  border-top:1px solid rgba(148,163,184,.16);
}
.modal-actions{
  display:flex;
  justify-content:flex-end;
  gap:12px;
}
.modal-section{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.field-label{
  font-size:12px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.field-input,
.field-textarea,
select{
  border-radius:var(--radius-sm);
  border:1px solid rgba(148,163,184,.22);
  background:rgba(15,23,42,.64);
  padding:10px 14px;
  font-size:14px;
  color:var(--color-text);
}
.field-textarea{
  min-height:120px;
  resize:vertical;
}
.field-hint{
  font-size:12px;
  color:var(--color-text-muted);
}
.modal-inline{
  display:flex;
  flex-wrap:wrap;
  gap:14px;
}
.modal-field{
  flex:1;
  min-width:160px;
}
.wallpaper-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(80px,1fr));
  gap:12px;
}
.wallpaper{
  width:100%;
  padding-top:70%;
  border-radius:16px;
  border:2px solid transparent;
  background-size:cover;
  background-position:center;
  cursor:pointer;
}
.wallpaper.is-selected{
  border-color:rgba(79,70,229,.5);
  box-shadow:var(--shadow-sm);
}
.badge-row{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
}
.badge{
  width:30px;
  height:30px;
  border-radius:12px;
  border:2px solid transparent;
}
.badge.is-active{
  border-color:#fff;
  box-shadow:0 0 0 2px rgba(31,41,55,.2);
}

.confirm-shell{
  display:flex;
  gap:16px;
  align-items:flex-start;
}
.confirm-icon{
  width:44px;
  height:44px;
  border-radius:16px;
  display:grid;
  place-items:center;
  background:rgba(79,70,229,.12);
  color:var(--color-primary);
}
.confirm-tone-danger .confirm-icon{
  background:rgba(239,68,68,.12);
  color:var(--color-danger);
}
.confirm-tone-accent .confirm-icon{
  background:rgba(14,165,233,.12);
  color:var(--color-accent);
}
.confirm-copy{
  font-size:14px;
  color:var(--color-text);
  line-height:1.6;
}

@media (max-width:1280px){
  .app-shell{
    grid-template-columns:minmax(0,1fr);
  }
  .app-sidebar{
    position:fixed;
    inset:0 auto 0 0;
    width:260px;
    transform:translateX(-110%);
    transition:transform .3s ease;
    z-index:40;
    box-shadow:var(--shadow-lg);
  }
  .app-shell.sidebar-open .app-sidebar{
    transform:translateX(0);
  }
  .sidebar-floating-btn{
    display:flex;
  }
  .app-main{
    min-height:100vh;
  }
}
@media (max-width:960px){
  .dashboard-toolbar,
  .dashboard-controls,
  .board-wrap,
  .notes-workspace{
    padding:24px;
  }
  .workspace-shell{
    flex-direction:column;
  }
  .workspace-sidebar{
    flex:1 1 auto;
    width:auto;
  }
  .lists{
    gap:16px;
  }
  .board-card{
    padding:22px;
  }
}
@media (max-width:640px){
  .app-header{
    flex-wrap:wrap;
    gap:16px;
  }
  .app-content{
    padding:24px 20px 40px;
  }
  .note-editor-pane{
    flex-direction:column;
  }
  .note-gutter{
    width:100%;
    text-align:left;
    padding:12px 20px;
  }
  .note-textarea{
    min-height:200px;
  }
}
.overview-shell{
  display:flex;
  flex-direction:column;
  gap:28px;
}
.overview-hero{
  display:flex;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:flex-end;
  gap:20px;
  padding:28px;
  border-radius:var(--radius-lg);
  background:linear-gradient(160deg,rgba(13,21,40,.95),rgba(8,14,28,.88));
  border:1px solid rgba(148,163,184,.2);
  box-shadow:var(--shadow-md);
}
.overview-hero-copy h1{
  margin:0;
  font-size:28px;
  font-weight:700;
}
.overview-hero-copy p{
  margin:8px 0 0;
  font-size:14px;
  color:var(--color-text-muted);
}
.overview-hero-actions{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
}
.overview-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}
.overview-tile{
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:24px;
  border-radius:var(--radius-lg);
  background:linear-gradient(150deg,rgba(12,20,38,.94),rgba(9,16,32,.9));
  border:1px solid rgba(148,163,184,.18);
  box-shadow:var(--shadow-sm);
}
.overview-tile-header{
  display:flex;
  gap:16px;
  align-items:center;
}
.overview-tile-icon .dot{
  width:16px;
  height:16px;
  border-radius:50%;
  display:inline-block;
}
.dot-purple{background:#8b5cf6;}
.dot-teal{background:#22d3ee;}
.dot-blue{background:#38bdf8;}
.overview-tile-title{
  font-size:14px;
  letter-spacing:.16em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.overview-tile-subtitle{
  font-size:12px;
  color:var(--color-text-muted);
}
.overview-tile-value{
  font-size:32px;
  font-weight:700;
}
.overview-columns{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
}
.overview-list{
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:24px;
  border-radius:var(--radius-lg);
  background:linear-gradient(160deg,rgba(12,20,38,.94),rgba(9,16,32,.9));
  border:1px solid rgba(148,163,184,.16);
  box-shadow:var(--shadow-sm);
}
.overview-list-header h3{
  margin:0;
  font-size:16px;
  font-weight:600;
}
.overview-list-body{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.overview-list-item{
  text-align:left;
  padding:12px 16px;
  border-radius:14px;
  border:1px solid transparent;
  background:rgba(148,163,184,.08);
  color:var(--color-text);
  transition:all .2s ease;
}
.overview-list-item:hover{
  border-color:rgba(99,102,241,.4);
  box-shadow:var(--shadow-sm);
}
.overview-list-item-title{
  font-weight:600;
}
.overview-list-item-meta{
  font-size:12px;
  color:var(--color-text-muted);
}
.overview-list-empty{
  padding:32px;
  text-align:center;
  color:var(--color-text-muted);
  border:1px dashed rgba(148,163,184,.24);
  border-radius:var(--radius-md);
}

.collection-dashboard{
  display:flex;
  flex-direction:column;
  gap:24px;
}
.collection-header{
  display:flex;
  flex-wrap:wrap;
  justify-content:space-between;
  align-items:flex-end;
  gap:16px;
}
.collection-header-copy h1{
  margin:0;
  font-size:26px;
  font-weight:700;
}
.collection-header-copy p{
  margin:8px 0 0;
  color:var(--color-text-muted);
}
.collection-header-actions{
  display:flex;
  gap:12px;
}
.collection-controls{
  display:flex;
  flex-wrap:wrap;
  gap:16px;
  align-items:flex-end;
}
.collection-control{
  display:flex;
  flex-direction:column;
  gap:6px;
  min-width:200px;
}
.collection-control-label{
  font-size:12px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:var(--color-text-muted);
}
.collection-input,
.collection-controls select{
  border-radius:var(--radius-sm);
  border:1px solid rgba(148,163,184,.22);
  background:rgba(15,23,42,.64);
  color:var(--color-text);
  padding:10px 14px;
  font-size:14px;
}
.collection-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:20px;
}
.collection-card{
  display:flex;
  flex-direction:column;
  gap:12px;
  padding:22px;
  border-radius:var(--radius-lg);
  background:linear-gradient(150deg,rgba(12,20,38,.94),rgba(9,16,32,.9));
  border:1px solid rgba(148,163,184,.16);
  box-shadow:var(--shadow-sm);
  text-align:left;
  transition:transform .2s ease, box-shadow .2s ease;
  cursor:pointer;
}
.collection-card:hover{
  transform:translateY(-4px);
  box-shadow:var(--shadow-md);
}
.collection-card-cta{
  border-style:dashed;
  border-color:rgba(99,102,241,.4);
  background:linear-gradient(155deg,rgba(99,102,241,.18),rgba(34,211,238,.14));
}
.collection-card-header h3{
  margin:0;
  font-size:18px;
  font-weight:600;
}
.collection-card-body p{
  margin:0;
  font-size:13px;
  color:var(--color-text-muted);
}
.collection-card-footer{
  font-size:12px;
  color:var(--color-text-muted);
}
.collection-empty{
  grid-column:1/-1;
  padding:48px;
  border-radius:var(--radius-lg);
  border:1px dashed rgba(148,163,184,.26);
  text-align:center;
  color:var(--color-text-muted);
  background:rgba(15,23,42,.48);
  display:flex;
  flex-direction:column;
  gap:16px;
  align-items:center;
}
.canvas-standalone{
  display:flex;
  flex-direction:column;
  flex:1;
  min-height:0;
}
.canvas-standalone.canvas-zen{
  position:fixed;
  inset:0;
  z-index:60;
  background:linear-gradient(170deg,rgba(4,8,19,.92),rgba(4,8,19,.98));
}
.canvas-standalone.canvas-zen .canvas-editor{
  flex:1;
  border-radius:0;
  border:0;
  box-shadow:none;
}


.canvas-select{
  border-radius:var(--radius-sm);
  border:1px solid rgba(148,163,184,.22);
  background:rgba(15,23,42,.64);
  color:var(--color-text);
  padding:10px 14px;
  font-size:14px;
}


.canvas-empty{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--color-text-muted);
  font-size:14px;
  border:1px dashed rgba(148,163,184,.28);
  border-radius:var(--radius-md);
  padding:32px;
}
